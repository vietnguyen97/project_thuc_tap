"use strict";var _slicedToArray=function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,n){var e=[],r=!0,i=!1,o=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(e.push(a.value),!n||e.length!==n);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&c.return&&c.return()}finally{if(i)throw o}}return e}(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")};document.onreadystatechange=function(){if("complete"===document.readyState){($||jQuery)&&console.log("jQuery is ready!");var t=document.querySelectorAll(".top-additional .dropdown-menu");t.forEach(function(t){return t.addEventListener("click",function(t){t.stopPropagation()})});var e=$("#filterType"),n=$("#filter__switch-type"),r=$("#filter-type"),i=$("#filters-project"),o=$("#filters-properties");$(n).bootstrapToggle("on"),n.on("change",function(t){return n=t,s(),void($(n.currentTarget).prop("checked")?(r.html(e.find(".toggle-on")[0].innerHTML),i.addClass("show"),o.removeClass("show")):(r.html(e.find(".toggle-off")[0].innerHTML),o.addClass("show"),i.removeClass("show")));var n});var a=function(t,n){return $(t).parents(n)},c=function(t){return $(t).parents(".dropdown-menu").find("input:checked")},l=function(t){var n="",e=[];if(t.inputContainer.hasClass("filter-options-total")&&(n="option-total"),"option-total"==n){var r=$(t.inputContainer).data("title"),i=$(t.checkedList).siblings("label"),o=!0,a=!1,c=void 0;try{for(var l,p=Object.entries(i)[Symbol.iterator]();!(o=(l=p.next()).done);o=!0){var u=_slicedToArray(l.value,2),d=(u[0],u[1]);d.innerHTML&&e.push(d.innerHTML)}}catch(t){a=!0,c=t}finally{try{!o&&p.return&&p.return()}finally{if(a)throw c}}0<e.length&&(r+=": "+e.join(", ")),$(t.inputContainer).find(".filter--text").html(r)}if(t.inputContainer.hasClass("filter-options-radio")){var f=$(t.inputContainer).data("title");$(t.inputContainer).find(".form-check-input").prop("checked",!1),$(t.currentInput).prop("checked",!0),$(t.inputContainer).find(".filter--text").html(f+": "+$(t.currentInput).siblings(".form-check-label").html())}};document.querySelectorAll(".dropdown-menu .dropdown-item .form-check-input").forEach(function(r){return r.addEventListener("click",function(t){return e={event:t,checkedList:c(n=r),currentInput:n,inputContainer:a(n,".top-additional--filter")},void l(e);var n,e})});var p=$(".min-options"),u=$(".max-options"),d="Mức giá",f=" triệu";$(".filter-price .dropdown-toggle").on("click",function(){var t=$(this).parents(".filter-price").find(".min-options"),n=$(this).parents(".filter-price").find(".max-options"),e=$(this).parents(".filter-price").find(".input-price-min"),r=$(this).parents(".filter-price").find(".input-price-max");t.find(".dropdown-item").show(),""!=r.val()&&-1!=r.val()&&t.find(".dropdown-item").toArray().forEach(function(t){Number($(t).attr("tabindex"))>=r.val()&&$(t).hide()}),""==r.val()?(t.show(),n.hide(),e.focus()):(n.show(),t.hide(),r.focus())}),$(".input-price-min").focus(function(){p.show(),u.hide()}),$(".input-price-max").focus(function(){u.show(),p.hide()}),$(".min-options .dropdown-item").on("click",function(t){var n=t.currentTarget,e=Number($(n).attr("tabindex")),r=$(n).parents(".pricelist-range"),i=($(r).find(".min-options"),$(n).parents(".pricelist-range").siblings()),o=($(i).find(".max-options .dropdown-item"),r.find(".input-price-min")),a=i.find(".input-price-max"),c=$(n).parents(".filter-price").find(".filter--text");o.val(e),a.focus(),e&&-1!=e?""!=o.val()&&(d=o.val()+f+" - "+a.val()+f,c.html(d)):(d=o.val()+f+" + ",c.html(d))}),$(".max-options .dropdown-item").on("click",function(t){var n=t.currentTarget,e=Number($(n).attr("tabindex")),r=$(n).parents(".pricelist-range"),i=($(i).find(".max-options"),$(n).parents(".pricelist-range").siblings()),o=($(i).find(".min-options .dropdown-item"),i.find(".input-price-min")),a=r.find(".input-price-max"),c=$(n).parents(".filter-price").find(".filter--text");e&&-1!=e?(a.val(e),d=""!=o.val()&&0!=o.val()?o.val()+f+" - "+a.val()+f:"Trên "+a.val()+f):(a.val(""),d=o.val()+f+" + "),c.html(d),$(".filter-price .dropdown-menu").removeClass("show")}),$('input[type="range"').on("change",function(t){var n=$(t.currentTarget),e=n.val();n.siblings("label").html(e+"+ m&sup2")}),$(".sr-item__favorite, .sr-item__non-favorite").on("click",function(t){$(t.currentTarget).parents(".search-result__item").toggleClass("active")});var s=function(){$('.top-additional .dropdown-menu input[type="text"]').toArray().forEach(function(t){t.value="","function"==typeof $(t).tagsinput&&$(".bootstrap-tagsinput .tag").remove()}),$('.top-additional .dropdown-menu input[type="checkbox"]').toArray().forEach(function(t){t.checked=!1}),$(".top-additional .dropdown-menu select").toArray().forEach(function(t){t.value=""}),$('.top-additional .dropdown-menu input[type="range"]').toArray().forEach(function(t){t.value="0"}),$('.top-additional .dropdown-menu input[type="number"]').toArray().forEach(function(t){t.value="0"})};s(),$("#filterRoom .dropdown-menu .dropdown-item").on("click",function(t){var n=$(t.currentTarget),e=n.siblings(".form-check-input");$(e).is(":checked")||n.siblings().find(".form-check-input").prop("checked",!1)});$("#filterTrading .dropdown-menu .dropdown-item").on("click",function(t){var n,e,r,i;n=$(t.currentTarget),e=$("#filterTradingList"),r=n.find(".dropdown-item--checkbox .form-check-input"),i=r.data("trading"),$(r).is(":checked")?e.addClass("has-"+i):e.removeClass("has-"+i)});$('.checkbox-radio-area input[type="checkbox"]').on("click",function(t){return(n=$(t.currentTarget)).parents(".checkbox-radio-area").find('input[type="checkbox"]').toArray().forEach(function(t){return t.checked=!1}),void n.prop("checked",!0);var n}),$(".filter-options-count .filter-input-count").on("change",function(t){return h(t)});var h=function(t){var n=$(t.currentTarget),e=n.parents(".filter-options-count"),r=e.data("title"),i=(e.data("option-count"),e.find(".filter--text")),o=0;n.val()&&""!=n.val()&&e.find(".filter-input-count").toArray().forEach(function(t){if(t.value&&""!=n.value){if(($(t).hasClass("form-control-range")||$(t).hasClass("form-check-input")||"number"==$(t).prop("type"))&&"0"==t.value)return;if("checkbox"==$(t).prop("type")&&0==t.checked)return;o++}});e.data("option-count",o),i.html(r+(0<o?": "+o:""))};$("#filterInvesment input").on("change",function(t){var n=$(t.currentTarget),e=$("#filterInvesment").data("title");""!=n.val()&&(e+=": "+n.val()),$("#filterInvesment .filter--text").html(e),$("#filterInvesment .dropdown-menu").removeClass("show")})}};